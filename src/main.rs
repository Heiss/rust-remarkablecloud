use cli::CLI;
use rmcloud::ServerBuilder;

fn main() -> anyhow::Result<()> {
    let args = CLI::parse_args()?;

    println!(
        r#"//////////////////////////////////////////////////////////////////////
//   _______   __       __   ______   __                            __ 
//  |       \ |  \     /  \ /      \ |  \                          |  \
//  | $$$$$$$\| $$\   /  $$|  $$$$$$\| $$  ______   __    __   ____| $$
//  | $$__| $$| $$$\ /  $$$| $$   \$$| $$ /      \ |  \  |  \ /      $$
//  | $$    $$| $$$$\  $$$$| $$      | $$|  $$$$$$\| $$  | $$|  $$$$$$$
//  | $$$$$$$\| $$\$$ $$ $$| $$   __ | $$| $$  | $$| $$  | $$| $$  | $$
//  | $$  | $$| $$ \$$$| $$| $$__/  \| $$| $$__/ $$| $$__/ $$| $$__| $$
//  | $$  | $$| $$  \$ | $$ \$$    $$| $$ \$$    $$ \$$    $$ \$$    $$
//   \$$   \$$ \$$      \$$  \$$$$$$  \$$  \$$$$$$   \$$$$$$   \$$$$$$$     
//                                                                     
//                                                                     
//  written by Heiss in Rust
//  Issues: https://github.com/Heiss/rust-remarkablecloud
//
//////////////////////////////////////////////////////////////////////
"#
    );

    ServerBuilder::new(args.config_path).build()?.execute()?;

    Ok(())
}
